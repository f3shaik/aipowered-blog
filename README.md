# AI-Powered Blog Generator

This repository contains a simplified Flask application that when, given a keyword, performs a bit of “SEO research” and then calls OpenAI to generate a draft blog post (with basic structure and placeholder affiliate links). Additionally, the application also automatically generates a blog post for a predefined keyword.

---

## Table of Contents

- [AI-Powered Blog Generator](#ai-powered-blog-generator)
  - [Table of Contents](#table-of-contents)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Running the App Locally](#running-the-app-locally)
  - [Scheduler Configuration](#scheduler-configuration)

---

## Prerequisites

- **Python 3.8+** installed on your system  
- **Git** (to clone this repo)  
- A valid **OpenAI API key** (you can sign up at [platform.openai.com](https://platform.openai.com))  
- (Optional) A code editor/IDE with Python support  

---

## Installation

1. **Clone the repository**  
   ```bash
   git clone https://github.com/f3shaik/aipowered-blog.git
   cd aipowered-blog
   ```

2. **Create and activate a virtual environment**  
   This is optional but recommended so you don't download on your system settings and keeps your dependencies isolated.
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

3. **Install Python dependencies**
   ```bash
   pip install -r requirements.txt
   ```

4. **Set up OpenAI API key**
   Copy the environment example file and copy-paste your OpenAI API key
   ```bash
   cp .env.example .env
   ```
   ```bash
   OPENAI_API_KEY=sk-...
   ```
   Don't commit your newly-created .env file as it's part of the .gitignore

## Running the App Locally

1. **Start Flask + APScheduler**
With all the set up done, you can run your app using
```bash
python3 app.py
```

And should see output similar to this
```bash
[Scheduler] started for daily prompt at 01:30 PST
 * Serving Flask app 'app'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:6000
 * Running on http://192.168.1.28:6000
Press CTRL+C to quit
 * Restarting with stat
[Scheduler] started for daily prompt at 01:30 PST
 * Debugger is active!
 * Debugger PIN: ###
```
To summarize what is being said here, the Flask server is listening on Port 6000 and APScheduler is running in the background by running once daily on the keyword "car pressure washer"

2. **Manually Using the `/generate` Endpoint**
On a different terminal, we can test the `/generate` endpoint by using
```bash
curl "http://127.0.0.1:6000/generate?keyword=smartphone"
```
You can replace smartphone with any keyword you want and spaces are represented by `%20`. 

The response will be a json containing:
- "content": A markdown string of all the output generated by OpenAI
- "keyword": the original keyword you entered
- "metrics": a dictionary containing key "mock" metrics on the keyword: cpc, keyword_difficulty and ssearch volume

## Scheduler Configuration
The application offers two approaches for automatically generating a blog post.

1. **APScheduler (Built-In)**
APScheduler is automatically configured to run a daily blog post on 1:30 PST. One can temporarily modify this daily blog post within app.py's `scheduler()` method 
```bash
def scheduler():
    # Calling helper function to handle job run everyday
    scheduler = BackgroundScheduler(timezone="America/Los_Angeles")
    # Job will run on midnight
-   scheduler.add_job(
-       daily_job,
-       trigger="cron",
-       hour=0,
-       minute=0,
-       id="daily blog post",
-       replace_existing=True
-   )
+   scheduler.add_job(
+       daily_job,
+       trigger="cron",
+       hour="*",
+       minute="*",
+       id="daily blog post",
+       replace_existing=True
+   )
    scheduler.start()
    print("[Scheduler] started for daily prompt at 00:00 PST")
```
Replace the hour and minute section with any logical hour and minute you want. Restarting the app will configure the daily scheduler to see a new blog post generated at a different time.

Enjoy creating AI-generated blog posts through the use of this tool!